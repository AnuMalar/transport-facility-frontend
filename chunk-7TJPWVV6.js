import{a as N,c as W}from"./chunk-4Y4MGOTC.js";import{A as $,f as R,i as T,k as L,m as z,s as j,u as F,v as H,w as A,x as V,y as B,z as D}from"./chunk-VMOEUYKI.js";import{g as E}from"./chunk-C55EB6QE.js";import"./chunk-Q64FFBLU.js";import{Db as a,Eb as p,Fb as C,Gb as y,Hb as O,Ib as P,Kb as w,Oa as d,Pa as u,ca as M,cb as g,gb as c,gc as S,hc as I,jb as v,jc as k,ka as x,la as _,mb as n,nb as t,ob as h,qb as b,tb as f,vb as s}from"./chunk-GII5MAL2.js";function G(r,i){if(r&1){let e=b();n(0,"mat-option",16),f("click",function(){let m=x(e).$implicit,l=s();return l.selectedRole=m,_(l.searchRide())}),a(1),t()}if(r&2){let e=i.$implicit;c("value",e),d(),p(e)}}function J(r,i){r&1&&h(0,"mat-spinner",17),r&2&&c("diameter",40)("strokeWidth",4)}function K(r,i){if(r&1){let e=b();n(0,"div",19)(1,"mat-icon",20),a(2),t(),n(3,"div",21)(4,"div")(5,"div",22),a(6),t(),n(7,"div",23)(8,"div",24)(9,"div"),a(10),t()(),n(11,"mat-icon"),a(12,"trending_flat"),t(),n(13,"div",25)(14,"div"),a(15),t()()(),n(16,"div",26),a(17),t(),n(18,"div"),a(19),t()()(),n(20,"button",27),f("click",function(){let m=x(e).$implicit,l=s(2);return _(l.bookRide(m._id))}),a(21,"Pick Ride"),t()()}if(r&2){let e=i.$implicit,o=s(2);d(2),p(e.vehicleType==="Bike"?"two_wheeler":"local_taxi"),d(4),p(e.employeeId),d(4),p(e.pickupPoint),d(5),p(e.destination),d(2),p(o.apiService.formatTime(e.time)),d(2),C("Vacant Seats: ",e.vacantSeats,""),d(),c("disabled",!o.employeeId)}}function Q(r,i){if(r&1&&(n(0,"div"),g(1,K,22,7,"div",18),t()),r&2){let e=s();v(e.ridesList.length>2?"height-v-c":""),d(),c("ngForOf",e.ridesList)}}function U(r,i){if(r&1&&(n(0,"div",28)(1,"div",29),h(2,"img",30),t(),n(3,"div",31)(4,"div"),a(5),t(),n(6,"div"),a(7,"Please be wait for sometime."),t()()()),r&2){let e=s();d(5),C("Currently, There is no ride available for ",e.selectedRole?"your search":"today",".")}}var q=class r{constructor(i,e){this.router=i;this.apiService=e}today=new Date;selectedRole="All";employeeId;ridesList=[];rideMeta=W;isLoading=!1;vType=["All","Bike","Car"];ngOnInit(){this.getRidesForToday()}addRide(){this.employeeId?(localStorage.setItem("employeeId",this.employeeId),this.router.navigate(["/ride"])):window.alert("Employee ID is mandatory")}findRide(){this.employeeId?(localStorage.setItem("employeeId",this.employeeId),this.router.navigate(["/find-ride"])):window.alert("Employee ID is mandatory")}getRidesForToday(){this.isLoading=!0,this.apiService.getAllRides().subscribe(i=>{i.statusCode==200&&i.info&&i.info.length?(this.ridesList=i.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}bookRide(i){let e={rideId:i,empId:this.employeeId};this.apiService.bookRide(e).subscribe(o=>{o.statusCode==200?(this.apiService.showSnackBar(o.message,["success"]),this.getRidesForToday()):this.apiService.showSnackBar(o.message,["warning"])})}searchRide(){this.isLoading=!0,this.apiService.searchRide({vehicleType:this.selectedRole}).subscribe(i=>{i.statusCode==200&&i.info&&i.info.length?(this.ridesList=i.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}static \u0275fac=function(e){return new(e||r)(u(E),u($))};static \u0275cmp=M({type:r,selectors:[["app-home"]],standalone:!0,features:[w],decls:26,vars:6,consts:[[1,"glass-eff","pad-20"],[1,"text-a-l","mar-b-20"],[1,"font-20","f-w-500","mar-b-5"],[1,"font-14"],["type","text","placeholder","Employee Id (eg:EMP001)",1,"sub-v-a","mar-b-20","w-140",3,"ngModelChange","ngModel"],[1,"button-group"],["mat-raised-button","",1,"btn",3,"click"],[1,"text-a-l"],[1,"flex","align-c","justify-space-between","mar-b-20"],[1,"font-16","f-w-500"],["placeholder","Select",1,"text-a-l","sub-v-a","bg-white",2,"width","80px","padding","5px 10px",3,"value"],["class","font-12",3,"value","click",4,"ngFor","ngForOf"],[1,"width-100","flex","align-c","justify-c"],[3,"diameter","strokeWidth",4,"ngIf"],[3,"class",4,"ngIf"],["class","grid align-c justify-c font-10 height-m-c",4,"ngIf"],[1,"font-12",3,"click","value"],[3,"diameter","strokeWidth"],["class","ride-card font-12 bg-white",4,"ngFor","ngForOf"],[1,"ride-card","font-12","bg-white"],[1,"vehicle-icon","font-20"],[1,"ride-info"],[1,"f-w-500"],[1,"flex","align-c"],[1,"mar-r-10"],[1,"mar-l-10"],[1,"f-w-500","icon-c"],["mat-flat-button","",1,"pick-btn","font-14",3,"click","disabled"],[1,"grid","align-c","justify-c","font-10","height-m-c"],[1,"img-h-w"],["src","https://cdni.iconscout.com/illustration/premium/thumb/waiting-illustration-svg-download-png-7973911.png",1,"height-100","width-100"],[1,"text-a-c"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),a(3,"Transport Facility \u2013 Today's Rides"),t(),n(4,"div",3),a(5,"Schedule or book a ride for today"),t()(),n(6,"input",4),P("ngModelChange",function(l){return O(o.employeeId,l)||(o.employeeId=l),l}),t(),n(7,"div",5)(8,"button",6),f("click",function(){return o.addRide()}),n(9,"mat-icon"),a(10,"add"),t(),a(11," Add New Ride"),t(),n(12,"button",6),f("click",function(){return o.findRide()}),n(13,"mat-icon"),a(14,"local_taxi"),t(),a(15," Find a Ride"),t()(),n(16,"div",7)(17,"div",8)(18,"div",9),a(19,"Available Rides Today"),t(),n(20,"mat-select",10),g(21,G,2,2,"mat-option",11),t()(),n(22,"div",12),g(23,J,1,2,"mat-spinner",13),t(),g(24,Q,2,4,"div",14)(25,U,8,1,"div",15),t()()),e&2&&(d(6),y("ngModel",o.employeeId),d(14),c("value",o.selectedRole),d(),c("ngForOf",o.vType),d(2),c("ngIf",o.isLoading==!0),d(),c("ngIf",o.ridesList.length>0),d(),c("ngIf",o.ridesList.length==0&&o.isLoading==!1))},dependencies:[H,F,R,V,A,j,T,L,z,D,B,k,S,I,N],styles:[".button-group[_ngcontent-%COMP%]{display:flex;gap:10px;margin-bottom:20px}.btn[_ngcontent-%COMP%]{padding:8px 16px;border:none;background-color:#eee;cursor:pointer;font-size:14px;border-radius:4px}.ride-card[_ngcontent-%COMP%]{display:grid;justify-content:space-between;align-items:center;grid-template-columns:30px 200px 110px;border:1px solid #c2c2c2;padding:10px;border-radius:6px;margin-bottom:10px}.ride-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:10px}.vehicle-icon[_ngcontent-%COMP%]{position:relative;top:-33px;color:#e91e67}.pick-btn[_ngcontent-%COMP%]{padding:0;height:30px;border:none;border-radius:4px;cursor:pointer;width:85px}.icon-c[_ngcontent-%COMP%]{color:#0056b3}.height-v-c[_ngcontent-%COMP%]{height:calc(100vh - 360px);overflow:auto}@media screen and (max-width:460px){.ride-card[_ngcontent-%COMP%]{grid-template-columns:30px 160px 95px}}",".flex[_ngcontent-%COMP%]{display:flex}.align-c[_ngcontent-%COMP%]{align-items:center}.justify-c[_ngcontent-%COMP%]{justify-content:center}.justify-l[_ngcontent-%COMP%]{justify-content:left}.justify-r[_ngcontent-%COMP%]{justify-content:right}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-d-c[_ngcontent-%COMP%]{flex-direction:column}.grid[_ngcontent-%COMP%]{display:grid}.pad-0[_ngcontent-%COMP%]{padding:0}.pad-5[_ngcontent-%COMP%]{padding:5px;box-sizing:border-box}.pad-10[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.pad-15[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box}.pad-20[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.pad-30[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box}.pad-tb-20[_ngcontent-%COMP%]{padding:20px 0;box-sizing:border-box}.pad-t-10[_ngcontent-%COMP%]{padding-top:10px}.mar-0[_ngcontent-%COMP%]{margin:0}.mar-5[_ngcontent-%COMP%]{margin:5px}.mar-10[_ngcontent-%COMP%]{margin:10px}.mar-15[_ngcontent-%COMP%]{margin:15px}.mar-20[_ngcontent-%COMP%]{margin:20px}.mar-30[_ngcontent-%COMP%]{margin:30px}.mar-b-5[_ngcontent-%COMP%]{margin-bottom:5px}.mar-b-10[_ngcontent-%COMP%]{margin-bottom:10px}.mar-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.mar-t-10[_ngcontent-%COMP%]{margin-top:10px}.mar-t-20[_ngcontent-%COMP%]{margin-top:20px}.mar-l-10[_ngcontent-%COMP%]{margin-left:10px}.mar-l-20[_ngcontent-%COMP%]{margin-left:20px}.mar-r-10[_ngcontent-%COMP%]{margin-right:10px}.mar-r-20[_ngcontent-%COMP%]{margin-right:20px}.font-10[_ngcontent-%COMP%]{font-size:10px}.font-12[_ngcontent-%COMP%]{font-size:12px}.font-14[_ngcontent-%COMP%]{font-size:14px}.font-16[_ngcontent-%COMP%]{font-size:16px}.font-18[_ngcontent-%COMP%]{font-size:18px}.font-20[_ngcontent-%COMP%]{font-size:20px}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-40[_ngcontent-%COMP%]{font-size:40px}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.width-100[_ngcontent-%COMP%]{width:100%}.width-95[_ngcontent-%COMP%]{width:95%}.height-100[_ngcontent-%COMP%]{height:100%}.text-a-c[_ngcontent-%COMP%]{text-align:center}.text-a-l[_ngcontent-%COMP%]{text-align:left}input[_ngcontent-%COMP%]:focus{outline:none}.white[_ngcontent-%COMP%]{color:#fff}.warn-c[_ngcontent-%COMP%]{color:#eb0e0e}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-n[_ngcontent-%COMP%]{background:none;border:none}.glass-eff[_ngcontent-%COMP%]{background-color:#e5e5e5;border-radius:8px;box-shadow:0 8px 32px #00000040}.sub-v-a[_ngcontent-%COMP%]{padding:10px;border-radius:4px;width:250px;border:1px solid #c9c9c9;font-size:12px!important;height:15px;display:flex;align-items:center}.border-r-4[_ngcontent-%COMP%]{border-radius:4px}.border-r-8[_ngcontent-%COMP%]{border-radius:8px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pos-a[_ngcontent-%COMP%]{position:absolute}.pos-r[_ngcontent-%COMP%]{position:relative}.border-b[_ngcontent-%COMP%]{border-bottom:1px solid #cacaca}.border-t[_ngcontent-%COMP%]{border-top:1px solid #cacaca}.overflow-a[_ngcontent-%COMP%]{overflow:auto}.img-h-w[_ngcontent-%COMP%]{height:200px;width:200px}.height-m-c[_ngcontent-%COMP%]{height:max-content}  .mat-mdc-select{font-size:12px!important}  .mat-mdc-radio-button .mdc-radio__outer-circle{top:2px!important;left:2px!important}  .mat-mdc-radio-button .mdc-radio__background{width:16px!important;height:16px!important}.mat-mdc-option[_ngcontent-%COMP%]{min-height:0;font-size:12px;padding:5px 10px}"]})};export{q as HomeComponent};
