import{a as E,b as L,c as z}from"./chunk-4Y4MGOTC.js";import{A as V,f as k,t as R,u as F,v as I,w as T,z as j}from"./chunk-VMOEUYKI.js";import{g as S}from"./chunk-C55EB6QE.js";import"./chunk-Q64FFBLU.js";import{Db as c,Eb as v,Fb as M,Kb as O,Oa as a,Pa as u,ca as b,cb as s,gb as d,gc as P,hc as w,jc as y,ka as _,kb as C,la as x,mb as i,nb as o,ob as f,qb as h,tb as m,vb as l}from"./chunk-GII5MAL2.js";function B(t,n){if(t&1){let e=h();i(0,"mat-option",20),m("click",function(){let p=_(e).$implicit,g=l();return x(g.rideObj.vehicleType=p)}),c(1),o()}if(t&2){let e=n.$implicit;d("value",e),a(),v(e)}}function $(t,n){t&1&&f(0,"mat-spinner",21),t&2&&d("diameter",40)("strokeWidth",4)}function N(t,n){if(t&1&&(i(0,"div",27)(1,"div"),c(2),o(),i(3,"div"),c(4),o()()),t&2){let e=n.$implicit,r=l().$implicit,p=l(2);a(2),v(e.dname),a(2),M("",e.type=="time"?p.apiService.formatTime(r[e.name]):r[e.name]?r[e.name]:0," ")}}function D(t,n){if(t&1){let e=h();i(0,"div",23)(1,"div",24),s(2,N,5,2,"div",25),o(),i(3,"div")(4,"button",26),m("click",function(){let p=_(e).$implicit,g=l(2);return x(g.bookRide(p._id))}),c(5,"Pick Ride"),o()()()}if(t&2){let e=l(2);a(2),d("ngForOf",e.rideMeta)}}function W(t,n){if(t&1&&(i(0,"div"),s(1,D,6,1,"div",22),o()),t&2){let e=l();C("mar-t-20 ",e.ridesList.length>2?"height-v-c":"",""),a(),d("ngForOf",e.ridesList)}}function q(t,n){t&1&&(i(0,"div",31),f(1,"img",32),o())}function G(t,n){t&1&&(i(0,"div",33)(1,"div"),c(2,"Currently, There is no ride available for your search."),o(),i(3,"div"),c(4,"Please be wait for sometime."),o()())}function H(t,n){t&1&&(i(0,"div",31),f(1,"img",34),o())}function J(t,n){t&1&&(i(0,"div",33)(1,"div"),c(2,"Search the available rides for today."),o()())}function K(t,n){if(t&1&&(i(0,"div",28),s(1,q,2,0,"div",29)(2,G,5,0,"div",30)(3,H,2,0,"div",29)(4,J,3,0,"div",30),o()),t&2){let e=l();a(),d("ngIf",e.isLoading==!1&&e.isSearch==!0),a(),d("ngIf",e.isLoading==!1&&e.isSearch==!0),a(),d("ngIf",e.isSearch==!1),a(),d("ngIf",e.isSearch==!1)}}var A=class t{constructor(n,e){this.router=n;this.apiService=e}ridesList=[];rideMeta=z;employeeId;vType=["All","Bike","Car"];isLoading=!1;isSearch=!1;rideObj={time:"",vehicleType:"All"};ngOnInit(){this.employeeId=localStorage.getItem("employeeId")||"",this.rideObj.empId=this.employeeId}getRidesForToday(){this.isLoading=!0,this.apiService.getAllRides().subscribe(n=>{n.statusCode==200&&n.info&&n.info.length?(this.ridesList=n.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}searchRide(){this.isLoading=!0,this.isSearch=!0,this.apiService.searchRide(this.rideObj).subscribe(n=>{n.statusCode==200&&n.info&&n.info.length?(this.ridesList=n.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}bookRide(n){let e={rideId:n,empId:this.employeeId};this.apiService.bookRide(e).subscribe(r=>{r.statusCode==200?(this.apiService.showSnackBar(r.message,["success"]),this.getRidesForToday()):this.apiService.showSnackBar(r.message,["warning"])})}backTo(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||t)(u(S),u(V))};static \u0275cmp=b({type:t,selectors:[["app-find-ride"]],standalone:!0,features:[O],decls:27,vars:5,consts:[[1,"glass-eff","pad-20","border-r-8"],[1,"grid","align-c","justify-c"],[1,"mar-b-10"],[1,"font-30","f-w-500"],[1,"font-12"],[1,"flex","align-c","mar-b-10"],["type","text",1,"sub-v-a","w-60","mar-r-10","bg-white",3,"value"],["placeholder","Select Vehicle Type",1,"text-a-l","sub-v-a","width-130","bg-white","mar-r-10"],["class","font-12",3,"value","click",4,"ngFor","ngForOf"],["type","time",1,"sub-v-a","w-60","mar-r-10",3,"change"],["mat-raised-button","",1,"tab-view-none",3,"click"],[1,"tab-view-flex","align-c","justify-c"],["mat-raised-button","",3,"click"],[1,"font-14","f-w-500"],[1,"width-100","flex","align-c","justify-c"],[3,"diameter","strokeWidth",4,"ngIf"],[3,"class",4,"ngIf"],["class","grid align-c justify-c font-10 height-m-c",4,"ngIf"],[1,"flex","align-c","justify-r"],["mat-stroked-button","",1,"",3,"click"],[1,"font-12",3,"click","value"],[3,"diameter","strokeWidth"],["class","mar-b-20 grid bg-white align-c grid-r-c",4,"ngFor","ngForOf"],[1,"mar-b-20","grid","bg-white","align-c","grid-r-c"],[1,"overflow-a","flex"],["class","font-12 ver-line",4,"ngFor","ngForOf"],["mat-flat-button","",1,"pick-btn","font-12","ride-action","mar-l-20",3,"click"],[1,"font-12","ver-line"],[1,"grid","align-c","justify-c","font-10","height-m-c"],["class","img-h-w",4,"ngIf"],["class","text-a-c",4,"ngIf"],[1,"img-h-w"],["src","https://cdni.iconscout.com/illustration/premium/thumb/waiting-illustration-svg-download-png-7973911.png",1,"height-100","width-100"],[1,"text-a-c"],["src","https://cdni.iconscout.com/illustration/premium/thumb/suche-nach-datei-illustration-svg-download-png-3414904.png",1,"height-100","width-100"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),c(5," Find Ride"),o(),i(6,"div",4),c(7,"Pick a ride for today"),o()(),i(8,"div",5),f(9,"input",6),i(10,"mat-select",7),s(11,B,2,2,"mat-option",8),o(),i(12,"input",9),m("change",function(g){return r.rideObj.time=g.target.value}),o(),i(13,"button",10),m("click",function(){return r.searchRide()}),c(14,"Search"),o()(),i(15,"div",11)(16,"button",12),m("click",function(){return r.searchRide()}),c(17,"Search"),o()(),i(18,"div",13),c(19,"Search Results"),o(),i(20,"div",14),s(21,$,1,2,"mat-spinner",15),o(),s(22,W,2,4,"div",16)(23,K,5,4,"div",17),i(24,"div",18)(25,"button",19),m("click",function(){return r.backTo()}),c(26,"Back"),o()()()()()),e&2&&(a(9),d("value",r.employeeId),a(2),d("ngForOf",r.vType),a(10),d("ngIf",r.isLoading==!0),a(),d("ngIf",r.ridesList.length>0),a(),d("ngIf",r.ridesList.length==0))},dependencies:[y,P,w,j,R,T,I,F,k,L,E],styles:["*[_ngcontent-%COMP%]{scrollbar-width:none}.grid-r-c[_ngcontent-%COMP%]{grid-template-columns:1fr auto;border:1px solid #c2c2c2;padding:10px;border-radius:6px;overflow:hidden}.w-60[_ngcontent-%COMP%]{width:60px!important}.left-20[_ngcontent-%COMP%]{left:20px}.ver-line[_ngcontent-%COMP%]{padding:5px 10px;border-right:1px solid #e0e0e0;margin-right:12px}.pick-btn[_ngcontent-%COMP%]{padding:0;height:30px;border-radius:4px;cursor:pointer;width:85px}.ride-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr auto;align-items:center;border-radius:8px;overflow:hidden}.ride-scroll-content[_ngcontent-%COMP%]{display:flex;gap:20px;padding:15px;overflow-x:auto;white-space:nowrap}.height-v-c[_ngcontent-%COMP%]{height:calc(100vh - 360px);overflow:auto}.tab-view-flex[_ngcontent-%COMP%]{display:none}.tab-view-none[_ngcontent-%COMP%]{display:flex}@media (max-width: 860px){.ver-line[_ngcontent-%COMP%]{min-width:80px}}@media screen and (max-width:600px){.width-130[_ngcontent-%COMP%]{width:130px!important}}@media (max-width: 460px){.tab-view-flex[_ngcontent-%COMP%]{display:flex}.tab-view-none[_ngcontent-%COMP%]{display:none}}",".flex[_ngcontent-%COMP%]{display:flex}.align-c[_ngcontent-%COMP%]{align-items:center}.justify-c[_ngcontent-%COMP%]{justify-content:center}.justify-l[_ngcontent-%COMP%]{justify-content:left}.justify-r[_ngcontent-%COMP%]{justify-content:right}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-d-c[_ngcontent-%COMP%]{flex-direction:column}.grid[_ngcontent-%COMP%]{display:grid}.pad-0[_ngcontent-%COMP%]{padding:0}.pad-5[_ngcontent-%COMP%]{padding:5px;box-sizing:border-box}.pad-10[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.pad-15[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box}.pad-20[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.pad-30[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box}.pad-tb-20[_ngcontent-%COMP%]{padding:20px 0;box-sizing:border-box}.pad-t-10[_ngcontent-%COMP%]{padding-top:10px}.mar-0[_ngcontent-%COMP%]{margin:0}.mar-5[_ngcontent-%COMP%]{margin:5px}.mar-10[_ngcontent-%COMP%]{margin:10px}.mar-15[_ngcontent-%COMP%]{margin:15px}.mar-20[_ngcontent-%COMP%]{margin:20px}.mar-30[_ngcontent-%COMP%]{margin:30px}.mar-b-5[_ngcontent-%COMP%]{margin-bottom:5px}.mar-b-10[_ngcontent-%COMP%]{margin-bottom:10px}.mar-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.mar-t-10[_ngcontent-%COMP%]{margin-top:10px}.mar-t-20[_ngcontent-%COMP%]{margin-top:20px}.mar-l-10[_ngcontent-%COMP%]{margin-left:10px}.mar-l-20[_ngcontent-%COMP%]{margin-left:20px}.mar-r-10[_ngcontent-%COMP%]{margin-right:10px}.mar-r-20[_ngcontent-%COMP%]{margin-right:20px}.font-10[_ngcontent-%COMP%]{font-size:10px}.font-12[_ngcontent-%COMP%]{font-size:12px}.font-14[_ngcontent-%COMP%]{font-size:14px}.font-16[_ngcontent-%COMP%]{font-size:16px}.font-18[_ngcontent-%COMP%]{font-size:18px}.font-20[_ngcontent-%COMP%]{font-size:20px}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-40[_ngcontent-%COMP%]{font-size:40px}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.width-100[_ngcontent-%COMP%]{width:100%}.width-95[_ngcontent-%COMP%]{width:95%}.height-100[_ngcontent-%COMP%]{height:100%}.text-a-c[_ngcontent-%COMP%]{text-align:center}.text-a-l[_ngcontent-%COMP%]{text-align:left}input[_ngcontent-%COMP%]:focus{outline:none}.white[_ngcontent-%COMP%]{color:#fff}.warn-c[_ngcontent-%COMP%]{color:#eb0e0e}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-n[_ngcontent-%COMP%]{background:none;border:none}.glass-eff[_ngcontent-%COMP%]{background-color:#e5e5e5;border-radius:8px;box-shadow:0 8px 32px #00000040}.sub-v-a[_ngcontent-%COMP%]{padding:10px;border-radius:4px;width:250px;border:1px solid #c9c9c9;font-size:12px!important;height:15px;display:flex;align-items:center}.border-r-4[_ngcontent-%COMP%]{border-radius:4px}.border-r-8[_ngcontent-%COMP%]{border-radius:8px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pos-a[_ngcontent-%COMP%]{position:absolute}.pos-r[_ngcontent-%COMP%]{position:relative}.border-b[_ngcontent-%COMP%]{border-bottom:1px solid #cacaca}.border-t[_ngcontent-%COMP%]{border-top:1px solid #cacaca}.overflow-a[_ngcontent-%COMP%]{overflow:auto}.img-h-w[_ngcontent-%COMP%]{height:200px;width:200px}.height-m-c[_ngcontent-%COMP%]{height:max-content}  .mat-mdc-select{font-size:12px!important}  .mat-mdc-radio-button .mdc-radio__outer-circle{top:2px!important;left:2px!important}  .mat-mdc-radio-button .mdc-radio__background{width:16px!important;height:16px!important}.mat-mdc-option[_ngcontent-%COMP%]{min-height:0;font-size:12px;padding:5px 10px}"]})};export{A as FindRideComponent};
