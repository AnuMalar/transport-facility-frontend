import{a as z}from"./chunk-EXFGDV6K.js";import{D as k,E as F,F as R,G as I,I as T,J as j,p as S}from"./chunk-475R44UC.js";import{g as w}from"./chunk-XBZYKXEP.js";import"./chunk-Q64FFBLU.js";import{Ab as a,Bb as b,Cb as h,Hb as O,Na as c,Oa as x,bb as g,ca as C,cc as M,dc as y,fb as p,fc as P,ka as f,kb as o,la as _,lb as r,mb as v,nb as u,qb as l,sb as m}from"./chunk-WTJBQRKI.js";var E=[{name:"employeeId",dname:"Employee ID",type:"text"},{name:"vehicleType",dname:"Vehicle Type",type:"text"},{name:"vehicleNo",dname:"Vehicle No",type:"text"},{name:"vacantSeats",dname:"Vacant Seats",type:"number"},{name:"time",dname:"Time",type:"time"},{name:"pickupPoint",dname:"Pickup Point",type:"text"},{name:"destination",dname:"Destination",type:"text"}];function L(i,t){if(i&1){let e=u();o(0,"mat-option",14),l("click",function(){let d=f(e).$implicit,s=m();return _(s.rideObj.vehicleType=d)}),a(1),r()}if(i&2){let e=t.$implicit;p("value",e),c(),b(e)}}function N(i,t){if(i&1&&(o(0,"div",19)(1,"div"),a(2),r(),o(3,"div"),a(4),r()()),i&2){let e=t.$implicit,n=m().$implicit,d=m(2);c(2),b(e.dname),c(2),h("",e.type=="time"?d.apiService.formatTime(n[e.name]):n[e.name]?n[e.name]:0," ")}}function A(i,t){if(i&1){let e=u();o(0,"div",16),g(1,N,5,2,"div",17),o(2,"div")(3,"button",18),l("click",function(){let d=f(e).$implicit,s=m(2);return _(s.bookRide(d._id))}),a(4,"Book Ride"),r()()()}if(i&2){let e=m(2);c(),p("ngForOf",e.rideMeta)}}function B(i,t){if(i&1&&(o(0,"div"),g(1,A,5,1,"div",15),r()),i&2){let e=m();c(),p("ngForOf",e.ridesList)}}function D(i,t){i&1&&(o(0,"div",20)(1,"div"),a(2,"Currently, There is no ride available for your search."),r(),o(3,"div"),a(4,"Please be wait for sometime."),r()())}var V=class i{constructor(t,e){this.router=t;this.apiService=e}ridesList=[];rideMeta=E;employeeId;vType=["All","Bike","Car"];rideObj={time:"",vehicleType:"All"};ngOnInit(){this.getRidesForToday(),this.employeeId=localStorage.getItem("employeeId")||"",this.rideObj.empId=this.employeeId}getRidesForToday(){this.apiService.getAllRides().subscribe(t=>{t.statusCode==200&&t.info&&t.info.length?this.ridesList=t.info:this.ridesList=[]})}searchRide(){this.apiService.searchRide(this.rideObj).subscribe(t=>{t.statusCode==200&&t.info&&t.info.length?this.ridesList=t.info:this.ridesList=[]})}bookRide(t){let e={rideId:t,empId:this.employeeId};this.apiService.bookRide(e).subscribe(n=>{n.statusCode==200?(this.apiService.showSnackBar(n.message,["success"]),this.getRidesForToday()):this.apiService.showSnackBar(n.message,["warning"])})}backTo(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||i)(x(w),x(z))};static \u0275cmp=C({type:i,selectors:[["app-find-ride"]],standalone:!0,features:[O],decls:19,vars:5,consts:[[1,"glass-eff","mar-b-20"],[1,"white","f-w-500","pointer","mar-r-20","pos-a","left-20",3,"click"],[1,"flex","align-c","justify-c"],[1,"grid","align-c","justify-c"],[1,"white","mar-b-10"],[1,"font-30","f-w-500"],[1,"font-12"],["type","text",1,"sub-v-a","w-60","mar-r-20","bg-white",3,"disabled","value"],["type","time",1,"sub-v-a","w-60","mar-r-20",3,"change"],["placeholder","Select Vehicle Type",1,"text-a-l","sub-v-a","bg-white","mar-r-20"],["class","font-12",3,"value","click",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],[4,"ngIf"],["class","white glass-eff text-a-c",4,"ngIf"],[1,"font-12",3,"click","value"],["class","glass-eff mar-b-20 grid align-c grid-r-c",4,"ngFor","ngForOf"],[1,"glass-eff","mar-b-20","grid","align-c","grid-r-c"],["class","font-12 white",4,"ngFor","ngForOf"],["mat-flat-button","",3,"click"],[1,"font-12","white"],[1,"white","glass-eff","text-a-c"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"mat-icon",1),l("click",function(){return n.backTo()}),a(2,"arrow_back"),r(),o(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5),a(7," Find Ride"),r(),o(8,"div",6),a(9,"Pick a ride for today"),r()(),o(10,"div",2),v(11,"input",7),o(12,"input",8),l("change",function(s){return n.rideObj.time=s.target.value}),r(),o(13,"mat-select",9),g(14,L,2,2,"mat-option",10),r(),o(15,"button",11),l("click",function(){return n.searchRide()}),a(16,"Search"),r()()()()(),g(17,B,2,1,"div",12)(18,D,5,0,"div",13)),e&2&&(c(11),p("disabled",!0)("value",n.employeeId),c(3),p("ngForOf",n.vType),c(3),p("ngIf",n.ridesList.length>0),c(),p("ngIf",n.ridesList.length==0))},dependencies:[P,M,y,j,T,k,I,R,F,S],styles:[".grid-r-c[_ngcontent-%COMP%]{grid-template-columns:100px 100px 100px 100px 100px 100px 100px 150px}.w-60[_ngcontent-%COMP%]{width:60px!important}.left-20[_ngcontent-%COMP%]{left:20px}",".flex[_ngcontent-%COMP%]{display:flex}.align-c[_ngcontent-%COMP%]{align-items:center}.justify-c[_ngcontent-%COMP%]{justify-content:center}.justify-l[_ngcontent-%COMP%]{justify-content:left}.justify-r[_ngcontent-%COMP%]{justify-content:right}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-d-c[_ngcontent-%COMP%]{flex-direction:column}.grid[_ngcontent-%COMP%]{display:grid}.pad-0[_ngcontent-%COMP%]{padding:0}.pad-5[_ngcontent-%COMP%]{padding:5px;box-sizing:border-box}.pad-10[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.pad-15[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box}.pad-20[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.pad-30[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box}.pad-tb-20[_ngcontent-%COMP%]{padding:20px 0;box-sizing:border-box}.mar-0[_ngcontent-%COMP%]{margin:0}.mar-5[_ngcontent-%COMP%]{margin:5px}.mar-10[_ngcontent-%COMP%]{margin:10px}.mar-15[_ngcontent-%COMP%]{margin:15px}.mar-20[_ngcontent-%COMP%]{margin:20px}.mar-30[_ngcontent-%COMP%]{margin:30px}.mar-b-5[_ngcontent-%COMP%]{margin-bottom:5px}.mar-b-10[_ngcontent-%COMP%]{margin-bottom:10px}.mar-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.mar-t-10[_ngcontent-%COMP%]{margin-top:10px}.mar-t-20[_ngcontent-%COMP%]{margin-top:20px}.mar-l-20[_ngcontent-%COMP%]{margin-left:20px}.mar-r-10[_ngcontent-%COMP%]{margin-right:10px}.mar-r-20[_ngcontent-%COMP%]{margin-right:20px}.font-10[_ngcontent-%COMP%]{font-size:10px}.font-12[_ngcontent-%COMP%]{font-size:12px}.font-14[_ngcontent-%COMP%]{font-size:14px}.font-16[_ngcontent-%COMP%]{font-size:16px}.font-18[_ngcontent-%COMP%]{font-size:18px}.font-20[_ngcontent-%COMP%]{font-size:20px}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-40[_ngcontent-%COMP%]{font-size:40px}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.width-100[_ngcontent-%COMP%]{width:100%}.width-95[_ngcontent-%COMP%]{width:95%}.height-100[_ngcontent-%COMP%]{height:100%}.text-a-c[_ngcontent-%COMP%]{text-align:center}.text-a-l[_ngcontent-%COMP%]{text-align:left}input[_ngcontent-%COMP%]:focus{outline:none}.white[_ngcontent-%COMP%]{color:#fff}.warn-c[_ngcontent-%COMP%]{color:#eb0e0e}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-n[_ngcontent-%COMP%]{background:none;border:none}.glass-eff[_ngcontent-%COMP%]{padding:30px;text-align:center;background:#fff3;backdrop-filter:blur(10px);-webkit-backdrop-filter:blur(10px);border-radius:16px;box-shadow:0 8px 32px #00000040}.sub-v-a[_ngcontent-%COMP%]{padding:10px;border-radius:4px;width:300px;border:1px solid #c9c9c9;font-size:12px!important;height:15px;display:flex;align-items:center}.border-r-4[_ngcontent-%COMP%]{border-radius:4px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pos-a[_ngcontent-%COMP%]{position:absolute}  .mat-mdc-select{font-size:12px!important}  .mat-mdc-radio-button .mdc-radio__outer-circle{top:2px!important;left:2px!important}  .mat-mdc-radio-button .mdc-radio__background{width:16px!important;height:16px!important}.mat-mdc-option[_ngcontent-%COMP%]{min-height:0;font-size:12px;padding:5px 10px}"]})};export{V as FindRideComponent};
