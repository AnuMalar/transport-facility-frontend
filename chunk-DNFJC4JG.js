import{a as j,b as E,c as z}from"./chunk-STSCTVOH.js";import{A as V,f as k,t as R,u as F,v as I,w as T,z as L}from"./chunk-JLJR4YNE.js";import{h as S}from"./chunk-67TETDWL.js";import"./chunk-Q64FFBLU.js";import{Db as d,Eb as b,Fb as O,Kb as M,Oa as a,Pa as x,ca as v,cb as p,gb as c,gc as P,hc as w,jc as y,ka as _,kb as C,la as h,mb as n,nb as o,ob as f,qb as u,tb as m,vb as s}from"./chunk-GII5MAL2.js";function B(i,t){if(i&1){let e=u();n(0,"mat-option",20),m("click",function(){let l=_(e).$implicit,g=s();return h(g.rideObj.vehicleType=l)}),d(1),o()}if(i&2){let e=t.$implicit;c("value",e),a(),b(e)}}function $(i,t){i&1&&f(0,"mat-spinner",21),i&2&&c("diameter",40)("strokeWidth",4)}function N(i,t){if(i&1&&(n(0,"div",27)(1,"div"),d(2),o(),n(3,"div"),d(4),o()()),i&2){let e=t.$implicit,r=s().$implicit,l=s(2);a(2),b(e.dname),a(2),O("",e.type=="time"?l.apiService.formatTime(r[e.name]):r[e.name]?r[e.name]:0," ")}}function D(i,t){if(i&1){let e=u();n(0,"div",23)(1,"div",24),p(2,N,5,2,"div",25),o(),n(3,"div")(4,"button",26),m("click",function(){let l=_(e).$implicit,g=s(2);return h(g.bookRide(l._id))}),d(5,"Pick Ride"),o()()()}if(i&2){let e=s(2);a(2),c("ngForOf",e.rideMeta)}}function W(i,t){if(i&1&&(n(0,"div"),p(1,D,6,1,"div",22),o()),i&2){let e=s();C("mar-t-20 mar-b-20 ",e.ridesList.length>2?"height-v-c":"",""),a(),c("ngForOf",e.ridesList)}}function q(i,t){i&1&&(n(0,"div",31),f(1,"img",32),o())}function Y(i,t){i&1&&(n(0,"div",33)(1,"div"),d(2,"Currently, There is no ride available for your search"),o(),n(3,"div"),d(4," (or) You had booked another Ride."),o(),n(5,"div"),d(6,"Please be wait for sometime"),o()())}function G(i,t){i&1&&(n(0,"div",31),f(1,"img",34),o())}function H(i,t){i&1&&(n(0,"div",33)(1,"div"),d(2,"Search the available rides for today."),o()())}function J(i,t){if(i&1&&(n(0,"div",28),p(1,q,2,0,"div",29)(2,Y,7,0,"div",30)(3,G,2,0,"div",29)(4,H,3,0,"div",30),o()),i&2){let e=s();a(),c("ngIf",e.isLoading==!1&&e.isSearch==!0),a(),c("ngIf",e.isLoading==!1&&e.isSearch==!0),a(),c("ngIf",e.isSearch==!1),a(),c("ngIf",e.isSearch==!1)}}var A=class i{constructor(t,e){this.router=t;this.apiService=e}ridesList=[];rideMeta=z;employeeId;vType=["All","Bike","Car"];isLoading=!1;isSearch=!1;rideObj={time:"",vehicleType:"All"};ngOnInit(){this.employeeId=localStorage.getItem("employeeId")||"",this.rideObj.empId=this.employeeId}getRidesForToday(){this.isLoading=!0,this.apiService.getAllRides().subscribe(t=>{t.statusCode==200&&t.info&&t.info.length?(this.ridesList=t.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}searchRide(){this.rideObj&&Object.values(this.rideObj).every(t=>t!=null&&t!=="")?(this.isLoading=!0,this.isSearch=!0,this.apiService.searchRide(this.rideObj).subscribe(t=>{t.statusCode==200&&t.info&&t.info.length?(this.ridesList=t.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})):window.alert("Please fill all the required fields")}bookRide(t){let e={rideId:t,empId:this.employeeId};this.isLoading=!0,this.apiService.bookRide(e).subscribe(r=>{r.statusCode==200?(this.apiService.showSnackBar(r.message,["success"]),this.isLoading=!1):(this.isLoading=!1,this.ridesList=[],this.apiService.showSnackBar(r.message,["warning"]))})}backTo(){this.router.navigate(["/home"])}static \u0275fac=function(e){return new(e||i)(x(S),x(V))};static \u0275cmp=v({type:i,selectors:[["app-find-ride"]],standalone:!0,features:[M],decls:27,vars:6,consts:[[1,"glass-eff","pad-20","border-r-8"],[1,"grid","align-c","justify-c"],[1,"mar-b-10"],[1,"font-30","f-w-500"],[1,"font-12"],[1,"flex","align-c","mar-b-10"],["type","text",1,"sub-v-a","w-60","mar-r-10","bg-white",3,"value","disabled"],["placeholder","Select Vehicle Type",1,"text-a-l","sub-v-a","width-130","bg-white","mar-r-10"],["class","font-12",3,"value","click",4,"ngFor","ngForOf"],["type","time",1,"sub-v-a","w-60","mar-r-10",3,"change"],["mat-raised-button","",1,"tab-view-none",3,"click"],[1,"tab-view-flex","align-c","justify-c"],["mat-raised-button","",3,"click"],[1,"font-14","f-w-500"],[1,"width-100","flex","align-c","justify-c"],[3,"diameter","strokeWidth",4,"ngIf"],[3,"class",4,"ngIf"],["class","grid align-c justify-c font-10 height-m-c",4,"ngIf"],[1,"flex","align-c","justify-r"],["mat-stroked-button","",1,"",3,"click"],[1,"font-12",3,"click","value"],[3,"diameter","strokeWidth"],["class","mar-b-20 grid bg-white align-c grid-r-c",4,"ngFor","ngForOf"],[1,"mar-b-20","grid","bg-white","align-c","grid-r-c"],[1,"overflow-a","flex"],["class","font-12 ver-line",4,"ngFor","ngForOf"],["mat-flat-button","",1,"pick-btn","border-r-4","pointer","font-12","ride-action","mar-l-20",3,"click"],[1,"font-12","ver-line"],[1,"grid","align-c","justify-c","font-10","height-m-c"],["class","img-h-w",4,"ngIf"],["class","text-a-c",4,"ngIf"],[1,"img-h-w"],["src","https://cdni.iconscout.com/illustration/premium/thumb/waiting-illustration-svg-download-png-7973911.png",1,"height-100","width-100"],[1,"text-a-c"],["src","https://cdni.iconscout.com/illustration/premium/thumb/suche-nach-datei-illustration-svg-download-png-3414904.png",1,"height-100","width-100"]],template:function(e,r){e&1&&(n(0,"div",0)(1,"div",1)(2,"div")(3,"div",2)(4,"div",3),d(5," Find Ride"),o(),n(6,"div",4),d(7,"Pick a ride for today"),o()(),n(8,"div",5),f(9,"input",6),n(10,"mat-select",7),p(11,B,2,2,"mat-option",8),o(),n(12,"input",9),m("change",function(g){return r.rideObj.time=g.target.value}),o(),n(13,"button",10),m("click",function(){return r.searchRide()}),d(14,"Search"),o()(),n(15,"div",11)(16,"button",12),m("click",function(){return r.searchRide()}),d(17,"Search"),o()(),n(18,"div",13),d(19,"Search Results"),o(),n(20,"div",14),p(21,$,1,2,"mat-spinner",15),o(),p(22,W,2,4,"div",16)(23,J,5,4,"div",17),n(24,"div",18)(25,"button",19),m("click",function(){return r.backTo()}),d(26,"Back"),o()()()()()),e&2&&(a(9),c("value",r.employeeId)("disabled",!0),a(2),c("ngForOf",r.vType),a(10),c("ngIf",r.isLoading==!0),a(),c("ngIf",r.ridesList.length>0&&r.isLoading==!1),a(),c("ngIf",r.ridesList.length==0&&r.isLoading==!1))},dependencies:[y,P,w,L,R,T,I,F,k,E,j],styles:["*[_ngcontent-%COMP%]{scrollbar-width:none}.grid-r-c[_ngcontent-%COMP%]{grid-template-columns:1fr auto;border:1px solid #c2c2c2;padding:10px;border-radius:6px;overflow:hidden}.w-60[_ngcontent-%COMP%]{width:60px!important}.ver-line[_ngcontent-%COMP%]{padding:5px 10px;border-right:1px solid #e0e0e0;margin-right:12px}.pick-btn[_ngcontent-%COMP%]{padding:0;height:30px;width:85px}.height-v-c[_ngcontent-%COMP%]{height:calc(100vh - 360px);overflow:auto}.tab-view-flex[_ngcontent-%COMP%]{display:none}.tab-view-none[_ngcontent-%COMP%]{display:flex}@media (max-width: 860px){.ver-line[_ngcontent-%COMP%]{min-width:80px}}@media screen and (max-width: 600px){.width-130[_ngcontent-%COMP%]{width:130px!important}}@media (max-width: 460px){.tab-view-flex[_ngcontent-%COMP%]{display:flex}.tab-view-none[_ngcontent-%COMP%]{display:none}}",".flex[_ngcontent-%COMP%]{display:flex}.align-c[_ngcontent-%COMP%]{align-items:center}.justify-c[_ngcontent-%COMP%]{justify-content:center}.justify-l[_ngcontent-%COMP%]{justify-content:left}.justify-r[_ngcontent-%COMP%]{justify-content:right}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-d-c[_ngcontent-%COMP%]{flex-direction:column}.grid[_ngcontent-%COMP%]{display:grid}.pad-0[_ngcontent-%COMP%]{padding:0}.pad-5[_ngcontent-%COMP%]{padding:5px;box-sizing:border-box}.pad-10[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.pad-15[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box}.pad-20[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.pad-30[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box}.pad-tb-20[_ngcontent-%COMP%]{padding:20px 0;box-sizing:border-box}.pad-t-10[_ngcontent-%COMP%]{padding-top:10px}.mar-0[_ngcontent-%COMP%]{margin:0}.mar-5[_ngcontent-%COMP%]{margin:5px}.mar-10[_ngcontent-%COMP%]{margin:10px}.mar-15[_ngcontent-%COMP%]{margin:15px}.mar-20[_ngcontent-%COMP%]{margin:20px}.mar-30[_ngcontent-%COMP%]{margin:30px}.mar-b-5[_ngcontent-%COMP%]{margin-bottom:5px}.mar-b-10[_ngcontent-%COMP%]{margin-bottom:10px}.mar-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.mar-t-10[_ngcontent-%COMP%]{margin-top:10px}.mar-t-20[_ngcontent-%COMP%]{margin-top:20px}.mar-l-10[_ngcontent-%COMP%]{margin-left:10px}.mar-l-20[_ngcontent-%COMP%]{margin-left:20px}.mar-r-10[_ngcontent-%COMP%]{margin-right:10px}.mar-r-20[_ngcontent-%COMP%]{margin-right:20px}.font-10[_ngcontent-%COMP%]{font-size:10px}.font-12[_ngcontent-%COMP%]{font-size:12px}.font-14[_ngcontent-%COMP%]{font-size:14px}.font-16[_ngcontent-%COMP%]{font-size:16px}.font-18[_ngcontent-%COMP%]{font-size:18px}.font-20[_ngcontent-%COMP%]{font-size:20px}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-40[_ngcontent-%COMP%]{font-size:40px}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.width-100[_ngcontent-%COMP%]{width:100%}.width-95[_ngcontent-%COMP%]{width:95%}.height-100[_ngcontent-%COMP%]{height:100%}.text-a-c[_ngcontent-%COMP%]{text-align:center}.text-a-l[_ngcontent-%COMP%]{text-align:left}input[_ngcontent-%COMP%]:focus{outline:none}.white[_ngcontent-%COMP%]{color:#fff}.warn-c[_ngcontent-%COMP%]{color:#eb0e0e}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-n[_ngcontent-%COMP%]{background:none;border:none}.glass-eff[_ngcontent-%COMP%]{background-color:#f5f6f7;border-radius:8px;box-shadow:0 8px 32px #00000040}.sub-v-a[_ngcontent-%COMP%]{padding:10px;border-radius:4px;width:250px;border:1px solid #c9c9c9;font-size:12px!important;height:15px;display:flex;align-items:center}.border-r-4[_ngcontent-%COMP%]{border-radius:4px}.border-r-8[_ngcontent-%COMP%]{border-radius:8px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pos-a[_ngcontent-%COMP%]{position:absolute}.pos-r[_ngcontent-%COMP%]{position:relative}.border-b[_ngcontent-%COMP%]{border-bottom:1px solid #cacaca}.border-t[_ngcontent-%COMP%]{border-top:1px solid #cacaca}.overflow-a[_ngcontent-%COMP%]{overflow:auto}.img-h-w[_ngcontent-%COMP%]{height:200px;width:200px}.height-m-c[_ngcontent-%COMP%]{height:max-content}  .mat-mdc-select{font-size:12px!important}  .mat-mdc-radio-button .mdc-radio__outer-circle{top:2px!important;left:2px!important}  .mat-mdc-radio-button .mdc-radio__background{width:16px!important;height:16px!important}.mat-mdc-option[_ngcontent-%COMP%]{min-height:0;font-size:12px;padding:5px 10px}"]})};export{A as FindRideComponent};
