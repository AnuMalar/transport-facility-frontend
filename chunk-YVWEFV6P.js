import{a as N,c as W}from"./chunk-STSCTVOH.js";import{A as $,f as T,i as R,k as L,m as z,s as j,u as F,v as H,w as A,x as V,y as B,z as D}from"./chunk-JLJR4YNE.js";import{h as E}from"./chunk-67TETDWL.js";import"./chunk-Q64FFBLU.js";import{Db as a,Eb as f,Fb as _,Gb as y,Hb as O,Ib as P,Kb as w,Oa as d,Pa as h,ca as v,cb as s,gb as c,gc as S,hc as I,jb as M,jc as k,ka as x,la as u,mb as n,nb as t,ob as b,qb as C,tb as g,vb as m}from"./chunk-GII5MAL2.js";function G(r,i){if(r&1){let e=C();n(0,"mat-option",16),g("click",function(){let p=x(e).$implicit,l=m();return l.selectedRole=p,u(l.rideType())}),a(1),t()}if(r&2){let e=i.$implicit;c("value",e),d(),f(e)}}function J(r,i){r&1&&(n(0,"div",17),b(1,"mat-spinner",18),t()),r&2&&(d(),c("diameter",40)("strokeWidth",4))}function K(r,i){r&1&&(n(0,"mat-icon",31),a(1,"edit"),t())}function Q(r,i){if(r&1){let e=C();n(0,"div",20)(1,"mat-icon",21),a(2),t(),n(3,"div",22)(4,"div")(5,"div",23)(6,"div"),a(7),t(),s(8,K,2,0,"mat-icon",24),t(),n(9,"div",25)(10,"div",26)(11,"div"),a(12),t()(),n(13,"mat-icon"),a(14,"trending_flat"),t(),n(15,"div",27)(16,"div"),a(17),t()()(),n(18,"div",28),a(19),t(),n(20,"div"),a(21),t()()(),n(22,"div",29)(23,"button",30),g("click",function(){let p=x(e).$implicit,l=m(2);return u(l.bookRide(p._id))}),a(24,"Pick Ride"),t()()()}if(r&2){let e=i.$implicit,o=m(2);d(2),f(e.vehicleType==="Bike"?"two_wheeler":"local_taxi"),d(5),_(" ",e.employeeId,""),d(),c("ngIf",o.employeeId==e.employeeId),d(4),f(e.pickupPoint),d(5),f(e.destination),d(2),_("Time:",o.apiService.formatTime(e.time),""),d(2),_("Vacant Seats: ",e.vacantSeats,""),d(2),c("disabled",!o.employeeId)}}function U(r,i){if(r&1&&(n(0,"div"),s(1,Q,25,8,"div",19),t()),r&2){let e=m();M(e.ridesList.length>2?"height-v-c":""),d(),c("ngForOf",e.ridesList)}}function X(r,i){if(r&1&&(n(0,"div",32)(1,"div",33),b(2,"img",34),t(),n(3,"div",35)(4,"div"),a(5),t(),n(6,"div"),a(7,"Please be wait for sometime."),t()()()),r&2){let e=m();d(5),_("Currently, There is no ride available for ",e.selectedRole?"your search":"today",".")}}var q=class r{constructor(i,e){this.router=i;this.apiService=e}today=new Date;selectedRole="All";employeeId;ridesList=[];rideMeta=W;isLoading=!1;vType=["All","Bike","Car"];ngOnInit(){this.getRidesForToday()}addRide(){this.employeeId?(localStorage.setItem("employeeId",this.employeeId),this.router.navigate(["/ride"])):window.alert("Employee ID is mandatory")}findRide(){this.employeeId?(localStorage.setItem("employeeId",this.employeeId),this.router.navigate(["/find-ride"])):window.alert("Employee ID is mandatory")}getRidesForToday(){this.isLoading=!0,this.apiService.getAllRides().subscribe(i=>{i.statusCode==200&&i.info&&i.info.length?(this.ridesList=i.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}bookRide(i){let e={rideId:i,empId:this.employeeId};this.apiService.bookRide(e).subscribe(o=>{o.statusCode==200?(this.apiService.showSnackBar(o.message,["success"]),this.getRidesForToday()):this.apiService.showSnackBar(o.message,["warning"])})}rideType(){this.isLoading=!0,this.apiService.searchRide({vehicleType:this.selectedRole}).subscribe(i=>{i.statusCode==200&&i.info&&i.info.length?(this.ridesList=i.info,this.isLoading=!1):(this.ridesList=[],this.isLoading=!1)})}static \u0275fac=function(e){return new(e||r)(h(E),h($))};static \u0275cmp=v({type:r,selectors:[["app-home"]],standalone:!0,features:[w],decls:25,vars:6,consts:[[1,"glass-eff","pad-20","card-w"],[1,"text-a-l","mar-b-10"],[1,"font-20","f-w-500","mar-b-5"],[1,"font-14"],["type","text","placeholder","Employee Id (eg:EMP001)",1,"sub-v-a","mar-b-10","w-140",3,"ngModelChange","ngModel"],[1,"mar-b-20","flex"],["mat-flat-button","",1,"btn","pointer","border-r-4","font-12","mar-r-10",3,"click"],["mat-flat-button","",1,"btn","pointer","border-r-4","font-12",3,"click"],[1,"text-a-l"],[1,"flex","align-c","justify-space-between","mar-b-10"],[1,"font-16","f-w-500"],["placeholder","Select",1,"text-a-l","sub-v-a","bg-white",2,"width","80px","padding","5px 10px",3,"value"],["class","font-12",3,"value","click",4,"ngFor","ngForOf"],["class","width-100 flex align-c justify-c",4,"ngIf"],[3,"class",4,"ngIf"],["class","grid align-c justify-c font-10 height-m-c",4,"ngIf"],[1,"font-12",3,"click","value"],[1,"width-100","flex","align-c","justify-c"],[3,"diameter","strokeWidth"],["class","grid ride-card align-c pad-10 mar-b-10 font-12 bg-white",4,"ngFor","ngForOf"],[1,"grid","ride-card","align-c","pad-10","mar-b-10","font-12","bg-white"],[1,"vehicle-icon","pos-r","font-20"],[1,"flex","align-c","gap-10"],[1,"f-w-500","flex","align-c"],["class","font-12 icon-c edit pos-r top-left pointer",4,"ngIf"],[1,"flex","align-c"],[1,"mar-r-10"],[1,"mar-l-10"],[1,"f-w-500","icon-c"],[1,"grid","justify-r"],["mat-flat-button","",1,"pick-btn","border-r-4","pointer","font-14",3,"click","disabled"],[1,"font-12","icon-c","edit","pos-r","top-left","pointer"],[1,"grid","align-c","justify-c","font-10","height-m-c"],[1,"img-h-w"],["src","https://cdni.iconscout.com/illustration/premium/thumb/waiting-illustration-svg-download-png-7973911.png",1,"height-100","width-100"],[1,"text-a-c"]],template:function(e,o){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2),a(3,"Transport Facility \u2013 Today's Rides"),t(),n(4,"div",3),a(5,"Schedule or book a ride for today"),t()(),n(6,"input",4),P("ngModelChange",function(l){return O(o.employeeId,l)||(o.employeeId=l),l}),t(),n(7,"div",5)(8,"button",6),g("click",function(){return o.addRide()}),n(9,"mat-icon"),a(10,"add"),t(),a(11," Add New Ride"),t(),n(12,"button",7),g("click",function(){return o.findRide()}),n(13,"mat-icon"),a(14,"local_taxi"),t(),a(15," Find a Ride"),t()(),n(16,"div",8)(17,"div",9)(18,"div",10),a(19,"Available Rides Today"),t(),n(20,"mat-select",11),s(21,G,2,2,"mat-option",12),t()(),s(22,J,2,2,"div",13)(23,U,2,4,"div",14)(24,X,8,1,"div",15),t()()),e&2&&(d(6),y("ngModel",o.employeeId),d(14),c("value",o.selectedRole),d(),c("ngForOf",o.vType),d(),c("ngIf",o.isLoading==!0),d(),c("ngIf",o.ridesList.length>0&&o.isLoading==!1),d(),c("ngIf",o.ridesList.length==0&&o.isLoading==!1))},dependencies:[H,F,T,V,A,j,R,L,z,D,B,k,S,I,N],styles:["*[_ngcontent-%COMP%]{scrollbar-width:none}.btn[_ngcontent-%COMP%]{padding:10px 16px;border:none;height:30px}.card-w[_ngcontent-%COMP%]{width:600px}.ride-card[_ngcontent-%COMP%]{grid-template-columns:30px auto auto;border:1px solid #c2c2c2;border-radius:6px}.gap-10[_ngcontent-%COMP%]{gap:10px}.vehicle-icon[_ngcontent-%COMP%]{top:-33px;color:#e91e67}.pick-btn[_ngcontent-%COMP%]{padding:0;height:30px;border:none;width:85px}.top-left[_ngcontent-%COMP%]{left:10px;top:4px}.icon-c[_ngcontent-%COMP%]{color:#0056b3}.height-v-c[_ngcontent-%COMP%]{height:calc(100vh - 360px);overflow:auto}@media screen and (max-width: 600px){.card-w[_ngcontent-%COMP%]{width:100%}.ride-card[_ngcontent-%COMP%]{grid-template-columns:30px 160px 95px}}",".flex[_ngcontent-%COMP%]{display:flex}.align-c[_ngcontent-%COMP%]{align-items:center}.justify-c[_ngcontent-%COMP%]{justify-content:center}.justify-l[_ngcontent-%COMP%]{justify-content:left}.justify-r[_ngcontent-%COMP%]{justify-content:right}.justify-space-between[_ngcontent-%COMP%]{justify-content:space-between}.flex-d-c[_ngcontent-%COMP%]{flex-direction:column}.grid[_ngcontent-%COMP%]{display:grid}.pad-0[_ngcontent-%COMP%]{padding:0}.pad-5[_ngcontent-%COMP%]{padding:5px;box-sizing:border-box}.pad-10[_ngcontent-%COMP%]{padding:10px;box-sizing:border-box}.pad-15[_ngcontent-%COMP%]{padding:15px;box-sizing:border-box}.pad-20[_ngcontent-%COMP%]{padding:20px;box-sizing:border-box}.pad-30[_ngcontent-%COMP%]{padding:30px;box-sizing:border-box}.pad-tb-20[_ngcontent-%COMP%]{padding:20px 0;box-sizing:border-box}.pad-t-10[_ngcontent-%COMP%]{padding-top:10px}.mar-0[_ngcontent-%COMP%]{margin:0}.mar-5[_ngcontent-%COMP%]{margin:5px}.mar-10[_ngcontent-%COMP%]{margin:10px}.mar-15[_ngcontent-%COMP%]{margin:15px}.mar-20[_ngcontent-%COMP%]{margin:20px}.mar-30[_ngcontent-%COMP%]{margin:30px}.mar-b-5[_ngcontent-%COMP%]{margin-bottom:5px}.mar-b-10[_ngcontent-%COMP%]{margin-bottom:10px}.mar-b-20[_ngcontent-%COMP%]{margin-bottom:20px}.mar-t-10[_ngcontent-%COMP%]{margin-top:10px}.mar-t-20[_ngcontent-%COMP%]{margin-top:20px}.mar-l-10[_ngcontent-%COMP%]{margin-left:10px}.mar-l-20[_ngcontent-%COMP%]{margin-left:20px}.mar-r-10[_ngcontent-%COMP%]{margin-right:10px}.mar-r-20[_ngcontent-%COMP%]{margin-right:20px}.font-10[_ngcontent-%COMP%]{font-size:10px}.font-12[_ngcontent-%COMP%]{font-size:12px}.font-14[_ngcontent-%COMP%]{font-size:14px}.font-16[_ngcontent-%COMP%]{font-size:16px}.font-18[_ngcontent-%COMP%]{font-size:18px}.font-20[_ngcontent-%COMP%]{font-size:20px}.font-26[_ngcontent-%COMP%]{font-size:26px}.font-40[_ngcontent-%COMP%]{font-size:40px}.f-w-500[_ngcontent-%COMP%]{font-weight:500}.width-100[_ngcontent-%COMP%]{width:100%}.width-95[_ngcontent-%COMP%]{width:95%}.height-100[_ngcontent-%COMP%]{height:100%}.text-a-c[_ngcontent-%COMP%]{text-align:center}.text-a-l[_ngcontent-%COMP%]{text-align:left}input[_ngcontent-%COMP%]:focus{outline:none}.white[_ngcontent-%COMP%]{color:#fff}.warn-c[_ngcontent-%COMP%]{color:#eb0e0e}.bg-white[_ngcontent-%COMP%]{background-color:#fff}.bg-n[_ngcontent-%COMP%]{background:none;border:none}.glass-eff[_ngcontent-%COMP%]{background-color:#f5f6f7;border-radius:8px;box-shadow:0 8px 32px #00000040}.sub-v-a[_ngcontent-%COMP%]{padding:10px;border-radius:4px;width:250px;border:1px solid #c9c9c9;font-size:12px!important;height:15px;display:flex;align-items:center}.border-r-4[_ngcontent-%COMP%]{border-radius:4px}.border-r-8[_ngcontent-%COMP%]{border-radius:8px}.pointer[_ngcontent-%COMP%]{cursor:pointer}.pos-a[_ngcontent-%COMP%]{position:absolute}.pos-r[_ngcontent-%COMP%]{position:relative}.border-b[_ngcontent-%COMP%]{border-bottom:1px solid #cacaca}.border-t[_ngcontent-%COMP%]{border-top:1px solid #cacaca}.overflow-a[_ngcontent-%COMP%]{overflow:auto}.img-h-w[_ngcontent-%COMP%]{height:200px;width:200px}.height-m-c[_ngcontent-%COMP%]{height:max-content}  .mat-mdc-select{font-size:12px!important}  .mat-mdc-radio-button .mdc-radio__outer-circle{top:2px!important;left:2px!important}  .mat-mdc-radio-button .mdc-radio__background{width:16px!important;height:16px!important}.mat-mdc-option[_ngcontent-%COMP%]{min-height:0;font-size:12px;padding:5px 10px}"]})};export{q as HomeComponent};
